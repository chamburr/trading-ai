{"version":3,"sources":["Pages/Predict/script.js","Components/Alert/script.js","Components/Alert/index.jsx","utils/functions.js","App.jsx","Components/SideBar/script.js","Components/SideBar/index.jsx","Components/SideBar/assets/dashboard.png","Components/SideBar/assets/alert.png","Components/SideBar/assets/predict.png","Components/SideBar/assets/settings.png","Components/MainContainer/index.jsx","Pages/AlertMe/script.js","Pages/AlertMe/index.jsx","Pages/Dashboard/script.js","Pages/Dashboard/index.jsx","Pages/Predict/index.jsx","Pages/Settings/script.js","Pages/Settings/index.jsx","index.js","utils/indicators.js","utils/stockapi.js"],"names":["init","predictChart","Chart","$","type","data","datasets","label","fill","borderColor","backgroundColor","pointRadius","options","responsive","maintainAspectRatio","title","display","scales","xAxes","gridLines","distribution","scaleLabel","labelString","yAxes","minMaxScaler","val","min","max","minMaxInverseScaler","window","startStop","click","removeClass","addClass","html","showAlert","stockID","lr","parseFloat","targetEpochs","stockData","runFunction","text","StockName","update","getStockHistoricalDaily","then","prices","Math","apply","map","el","dates","lookbackPrices","targets","index","length","slice","push","tfPrices","tf","global","pred","tfTargets","model","add","lstm","units","inputShape","dense","activation","opt","adam","a","t","labels","epochs","fit","callbacks","onEpochEnd","epoch","log","predict","d","ds","loss","shuffle","compile","optimizer","metrics","getDataForPrediction","tfData","lastPrice","testdata","tfTest","predVal","dataSync","finalPredictions","numPred","shift","forecastPrice","reduce","previous","current","round","err","message","updatePredictChart","tooltip","checkInputPositive","forEach","row","append","StockID","ReactDOM","unmountComponentAtNode","document","getElementById","Alert","className","role","this","props","msg","id","React","Component","timeout","render","clearTimeout","setTimeout","openExternal","url","electron","shell","func","args","unshift","ipcRenderer","sendSync","obj","float","on","value","test","Object","prototype","hasOwnProperty","call","oldValue","App","SideBar","src","MainContainer","getAlerts","sStockID","TargetPrice","AutoRenew","Direction","ID","change","getStockQuote","price","getCurrentVal","currVal","replace","newVal","direction","autoRenew","Number","is","setAlert","event","currentTarget","attr","AlertMe","defaultValue","disabled","placeholder","readOnly","htmlFor","chart","showPriceChart","destroy","borderWidth","yAxisID","position","updatePriceChart","stock","span","getStockPrices","volumes","merged_t","merged_v","x","y","updateIndicatorChart","indicator","getStockIndicator","values","beginAtZero","updateStocks","stocks","getStockHighLow","initializeStockView","High","includes","stIndex","split","searchStock","element","res","stopImmediatePropagation","selectedStock","setInterval","Dashboard","state","loading","isLoading","minLength","delay","useCache","onSearch","query","setState","results","Predict","Settings","spellCheck","setMaxListeners","arg","notif","alertData","clearInterval","initializeAlerts","Item","prev","next","LinkedList","_length","_head","_tail","_current","_next","tail","undefined","head","nf","v","Indicator","input","format","result","SMA","period","genFn","list","sum","counter","generator","tick","EMA","sma","priceArray","exponent","prevEma","nextValue","WMA","denominator","resetCursor","i","VWAP","lows","low","highs","high","closes","close","volume","cumulativeTotal","cumulativeVolume","typicalPrice","total","AverageGain","currentValue","gainSum","lastValue","gain","avgGain","AverageLoss","lossSum","avgLoss","RSI","GainProvider","LossProvider","lastAvgGain","lastAvgLoss","currentRSI","RS","isNaN","toFixed","errorMessage","formatDate","date","noTime","Date","toLocaleString","timeZone","hour12","year","month","day","hour","minute","second","stockName","Promise","resolve","reject","axios","get","encodeURI","Error","range","interval","entries","entry","getResult"],"mappings":"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","file":"static/js/main.443eff04.chunk.js","sourcesContent":["import $ from 'jquery';\nimport * as tf from '@tensorflow/tfjs';\nimport Chart from 'chart.js';\nimport { getDataForPrediction, getStockHistoricalDaily } from '../../utils/stockapi.js';\nimport { showAlert, runFunction, checkInputPositive } from '../../utils/functions.js';\n\nfunction init() {\n    let predictChart = new Chart($('#predict-graph'), {\n        type: 'line',\n        data: {\n            datasets: [\n                {\n                    type: 'line',\n                    label: 'Actual',\n                    fill: false,\n                    data: [],\n                    borderColor: '#DC143C',\n                    backgroundColor: '#DC143C',\n                    pointRadius: 1\n                },\n                {\n                    type: 'line',\n                    label: 'Predicted',\n                    fill: false,\n                    data: [],\n                    borderColor: '#006400',\n                    backgroundColor: '#006400',\n                    pointRadius: 1\n                }\n            ]\n        },\n        options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            title: {\n                display: true,\n            },\n            scales: {\n                xAxes: [\n                    {\n                        display: true,\n                        gridLines: {\n                            display: false\n                        },\n                        distribution: 'series',\n                        type: 'time',\n                        scaleLabel: {\n                            display: true,\n                            labelString: 'Time'\n                        }\n                    }\n                ],\n                yAxes: [\n                    {\n                        type: 'linear',\n                        gridLines: {\n                            display: false\n                        },\n                        scaleLabel: {\n                            display: true,\n                            labelString: 'Stock Price'\n                        }\n                    }\n                ]\n            }\n        }\n    });\n\n    function minMaxScaler(val, min, max) {\n        return (val - min) / (max - min);\n    }\n\n    function minMaxInverseScaler(val, min, max) {\n        return val * (max - min) + min;\n    }\n\n    function getStocks() {\n        let stocks = runFunction('getAllStocks');\n\n        stocks.forEach(row => {\n            $('#predict-select-stock').append(`<option value=\"${row.StockID}\">${row.StockName} (${row.StockID})</option>`);\n        });\n    }\n\n    function updatePredictChart() {\n        let stockID = $('#predict-select-stock').val();\n\n        if (!stockID) return;\n\n        let lr = parseFloat($('#predict-learning-rate').val());\n        let targetEpochs = parseFloat($('#predict-epochs').val());\n\n        if (!lr) lr = 0.005;\n        if (!targetEpochs) targetEpochs = 15;\n\n        if (lr < 0.001 || lr > 1) {\n            showAlert('Learning rate must be a value from 0.001 to 1.');\n\n            $('#predict-training-button').removeClass('btn-danger');\n            $('#predict-training-button').addClass('btn-success');\n            $('#predict-training-button').html('START TRANING');\n\n            window.startStop = 0;\n\n            return;\n        }\n\n        let stockData = runFunction('getStock', [stockID]);\n\n        predictChart.options.title.text = stockData.StockName;\n        predictChart.options.scales.yAxes[0].scaleLabel.labelString = 'Stock Price';\n        predictChart.update();\n\n        showAlert('Fetching stock data...');\n\n        getStockHistoricalDaily(stockID).then(data => {\n            let prices = data[1];\n            let min = Math.min.apply(null, prices);\n            let max = Math.max.apply(null, prices);\n\n            prices = prices.map(el => minMaxScaler(el, min, max));\n\n            let dates = data[0];\n            let lookbackPrices = [];\n            let targets = [];\n\n            for (let index = 10; index < prices.length; index++) {\n                lookbackPrices[index - 10] = prices.slice(index - 10, index);\n                targets.push(prices[index]);\n            }\n\n            let tfPrices = tf.tensor2d(lookbackPrices);\n            global.pred = tf.tensor2d(lookbackPrices[0], [1, 10]);\n            global.pred = tf.reshape(global.pred, [1, 10, 1]);\n            let tfTargets = tf.tensor1d(targets);\n\n            tfPrices = tf.reshape(tfPrices, [prices.length - 10, 10, 1]);\n\n            let model = tf.sequential();\n            model.add(tf.layers.lstm({ units: 32, inputShape: [10, 1] }));\n            model.add(tf.layers.dense({ units: 1, activation: 'linear' }));\n\n            let opt = tf.train.adam(lr);\n            let loss = 'meanSquaredError';\n\n            showAlert('Compiling model...');\n\n            model.compile({ optimizer: opt, loss: loss, metrics: ['mae', 'mse'] });\n\n            async function fit() {\n                let t = targets.map(el => minMaxInverseScaler(el, min, max));\n                t = t.slice(t.length - 100, t.length);\n\n                predictChart.data.labels = dates.slice(dates.length - 100, dates.length);\n\n                let epochs = 1;\n\n                while (epochs < targetEpochs && window.startStop === 1) {\n                    await model.fit(tfPrices, tfTargets, {\n                        epochs: 1,\n                        callbacks: {\n                            onEpochEnd: (epoch, log) => {\n                                epochs += 1;\n\n                                tf.tidy(() => {\n                                    let pred = model.predict(tfPrices);\n\n                                    pred.data().then(d => {\n                                        let ds = d.map(el => minMaxInverseScaler(el, min, max));\n                                        ds = ds.slice(d.length - 100, d.length);\n\n                                        predictChart.data.datasets[0].data = t;\n                                        predictChart.data.datasets[1].data = ds;\n                                        predictChart.update();\n\n                                        showAlert(`Training model (Epoch ${epochs}): Loss is ${log.loss}`);\n                                    });\n                                });\n                            }\n                        },\n                        shuffle: true\n                    });\n                }\n            }\n\n            function predictNextStep(tfData) {\n                let tfPred = model.predict(tfData);\n\n                return tfPred.dataSync()[0];\n            }\n\n            fit().then(() => {\n                window.startStop = 0;\n\n                $('#predict-training-button').removeClass('btn-danger');\n                $('#predict-training-button').addClass('btn-success');\n                $('#predict-training-button').html('Start Training');\n\n                getDataForPrediction(stockID).then(data => {\n                    let prices = data[1];\n                    prices = prices.slice(0, prices.length);\n\n                    let lastPrice = prices[prices.length - 1];\n                    let testdata = prices.map(el => minMaxScaler(el, min, max));\n                    let tfTest = tf.tensor3d(testdata, [1, prices.length, 1]);\n                    let tfPred = model.predict(tfTest);\n                    let predVal = tfPred.dataSync()[0];\n                    let finalPredictions = [];\n\n                    for (let numPred = 0; numPred < 5; numPred++) {\n                        testdata.shift();\n                        testdata.push(predVal);\n\n                        predVal = predictNextStep(tf.tensor3d(testdata, [1, prices.length, 1]));\n                        finalPredictions.push(predVal);\n                    }\n\n                    finalPredictions = finalPredictions.map(el => minMaxInverseScaler(el, min, max))\n\n                    let sum = finalPredictions.reduce((previous, current) => current += previous);\n                    let forecastPrice = sum / finalPredictions.length;\n\n                    showAlert('Training complete. Forecasted price: $' + Math.round(forecastPrice, 2));\n\n                    if (forecastPrice > lastPrice) $('#predict-forecast-price').val(`$${Math.round(forecastPrice, 2)} (Bullish)`);\n                    else $('#predict-forecast-price').val(`$${Math.round(forecastPrice, 2)} (Bearish)`);\n                }).catch(err => showAlert(err.message));\n            });\n        }).catch(err => showAlert(err.message));\n    }\n\n    window.startStop = 0;\n\n    $('#predict-training-button').click(() => {\n        if (window.startStop === 1) {\n            window.startStop = 0;\n\n            $('#predict-training-button').removeClass('btn-danger');\n            $('#predict-training-button').addClass('btn-success');\n            $('#predict-training-button').html('Start Training');\n\n            showAlert('Training stopping...');\n\n            return;\n        }\n\n        showAlert('Loading...');\n\n        if ($('#predict-select-stock').val() != null) {\n            $('#predict-training-button').removeClass('btn-success');\n            $('#predict-training-button').addClass('btn-danger');\n            $('#predict-training-button').html('Stop Training');\n            $('#predict-forecast-price').val('');\n\n            window.startStop = 1;\n\n            updatePredictChart();\n        } else {\n            showAlert('Please fill in all fields.');\n        }\n    });\n\n    $('[data-toggle=\"tooltip\"]').tooltip();\n\n    checkInputPositive($('#predict-epochs'), false, 1, 500);\n    checkInputPositive($('#predict-learning-rate'), true, null, 1);\n\n    getStocks();\n}\n\nexport default init;\n","import ReactDOM from 'react-dom';\nimport $ from 'jquery';\n\nfunction init() {\n    $('#alert-close').click(() => ReactDOM.unmountComponentAtNode(document.getElementById('alert-container')));\n}\n\nexport default init;\n","import React from 'react';\nimport './styles.css';\nimport init from './script.js';\n\nclass Alert extends React.Component {\n  componentDidMount() {\n    init();\n  }\n\n  render() {\n    return (\n      <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n        {this.props.msg}\n        <button type=\"button\" id=\"alert-close\" data-dismiss=\"alert\" aria-label=\"Close\">\n          <span aria-hidden={true}>&times;</span>\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Alert;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Alert from '../Components/Alert/index.jsx';\n\nlet timeout = null;\n\nfunction showAlert(msg) {\n    ReactDOM.render(<Alert msg={msg}/>, document.getElementById('alert-container'));\n\n    if (timeout) clearTimeout(timeout);\n\n    timeout = setTimeout(() => {\n        ReactDOM.unmountComponentAtNode(document.getElementById('alert-container'));\n    }, 5000);\n}\n\nfunction openExternal(url) {\n    window.electron.shell.openExternal(url);\n}\n\nfunction runFunction(func, args=[]) {\n    args.unshift(func);\n    return window.electron.ipcRenderer.sendSync('function', args);\n}\n\nfunction checkInputPositive(obj, float=false, min=null, max=null) {\n    obj.on('input', function() {\n        if (this.value === '') return;\n\n        if (parseFloat(this.value) === 0 && min >= 1) return this.value = '';\n        else if ((!float && /^[0-9]*$/g.test(this.value) === false) || (float && /^[0-9]*\\.?[0-9]*$/g.test(this.value) === false)) {\n            if (Object.prototype.hasOwnProperty.call(this, 'oldValue')) return this.value = this.oldValue;\n            else return this.value = '';\n        }\n        else if (min != null && parseFloat(this.value) < min) this.value = min;\n        else if (max != null && parseFloat(this.value) > max) this.value = max;\n\n        this.oldValue = this.value;\n    });\n}\n\nexport {\n    showAlert,\n    openExternal,\n    runFunction,\n    checkInputPositive\n};\n\n// let id = 0;\n//\n// function runAsyncFunction(func, args=[]) {\n//     id += 1;\n//     args.unshift(id);\n//     args.unshift(func);\n//\n//     window.electron.ipcRenderer.send('asyncFunction', args);\n//\n//     return new Promise((resolve, reject) => {\n//         window.electron.ipcRenderer.once('asyncReply' + id, (event, arg) => {\n//             resolve(arg);\n//         });\n//\n//         window.electron.ipcRenderer.once('asyncReplyError' + id, (event, arg) => {\n//             reject(arg);\n//         });\n//     });\n// }\n//\n// export { runAsyncFunction };\n\n// function checkForUpdates() {\n//     return window.electron.ipcRenderer.sendSync('checkForUpdates');\n// }\n//\n// export { checkForUpdates };\n","import React from 'react';\n\nfunction App() {\n  return (\n    <div className=\"row main-row\">\n      <div className=\"col-3 main-col\" id=\"sidebar-container\"></div>\n      <div className=\"col-9 main-col\" id=\"main-container\"></div>\n    </div>\n  );\n}\n\nexport default App;","import $ from 'jquery';\n\nfunction init() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n}\n\nexport default init;\n","import React from 'react';\nimport './styles.css';\nimport init from './script.js';\n\nimport alert from './assets/alert.png';\nimport dashboard from './assets/dashboard.png';\nimport predict from './assets/predict.png';\nimport settings from './assets/settings.png';\n\nclass SideBar extends React.Component {\n  componentDidMount() {\n    init();\n  }\n\n  render() {\n    return (\n      <div id=\"sidebar\">\n        <a className=\"d-block sidebar-button\" id=\"nav-dashboard\">\n          Dashboard\n          <img src={dashboard}/>\n        </a>\n        <hr/>\n        <a className=\"d-block sidebar-button\" id=\"nav-alert-me\">\n          Alert Me\n          <img src={alert}/>\n        </a>\n        <hr/>\n        <a className=\"d-block sidebar-button\" id=\"nav-predict\">\n          Predict\n          <img src={predict}/>\n        </a>\n        <hr/>\n        <a className=\"d-block sidebar-button\" id=\"nav-settings\">\n          Settings\n          <img src={settings}/>\n        </a>\n        <hr/>\n      </div>\n    );\n  }\n}\n\nexport default SideBar;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQAAAAB/ecQqAAAAAnRSTlMAAHaTzTgAAAAhSURBVHgBYyAeMP//Y///ANUpiNGYFF59QICLook7iQYAgu1/gc8/nTMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAA5UlEQVR4Ae3SAQYCQRSH8Q1BoCBCNwjULQKdoQuELlCIAkRBQOkEEQAhkK7RWMgG2FK+wDBWad/uDFbzA3j8P3iBwfMoMSYkZEzJTWCKNnMTuKFFbgIG++MdFpjmtO2NtzjyyYGWjfkhL755Msw7v+SXaZ75AWl0s843iUlDUckW2JLWJJCjyoMEfSMpoiwP9CF1AHrywEoUmMsDZ1HgJA8oUUDJA3dRIJYHEAUoQiDJB4T8FxUuwAipkdt5nRDO20/oeYcJcnIf+F8oTBf7gQ2mtf1AnRBNUQvso8GeK1d2NAKvQN6f5UXZY9GQ7gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAATElEQVR4Ae3PUQmAABTAQKObw0yaaQbw/QmicgcLsOVvAIDq6Go3YMDARxgwMKjWqS8NjAw8xYABAyMD1dbAgAEDBgwYuM+AAQDg1U5eHIfqP/orewAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAB4UlEQVR4Ae3XA8xWUQDG8SfbTZnzsq0h29aUa8q2a/aWbTdm227Kdrf9u+N337tzzv3s3zPjmMooslGQFrQKpAUFlZw4QthJJSfeEPZZyYf8mJRUcqEWJvWVXOiJST8lDuWoTw4FsAiTFYpBcxorGkX5ADxjHpXloyM3sblJZ/moyhyeAx8oqigsJ85Z9hBlD2eIs1puVOQPSeFRTS7sIan2y46WJIeWMiMHd3DzuO3Hw+0OOWTCMFz20IA88pGHBuzGZaRr/ZhNVAg9+IbNKpmQj62YTZMBozDbSj7ZMAGPsEuy4AJhHlPkRnPeEaujLOhIrHc0VzS6EvSdXLIgL98J6q34YChBD+TAQ/PqcWJkoisYpvigL0E/HEOUix8E9Vc02vCRWB1kQQdifaCd3JjCP8JOy4IrhHlMkg0F2IXZSBkwHbON5JUJK7H5Tg+FMBa7pTJhNC67aUBe+chLQ3bjMkwm5OIObn+568fD7So5UvbCaSQ7DpNUu+RCNTyS4g8V5cZ64pxhD1F2ci60ftwowRfgKXOpKB9duOmYzg7yUZ35vATeUFTRaEQzxWA1JosUQA4aUFaJwwBMeii50BCTmkoulMYkv5IPnwl7reTEScKOKDlRgJahb2wBZRDZ/gMMBKgyulUsXgAAAABJRU5ErkJggg==\"","import React from 'react';\nimport './styles.css';\n\nclass MainContainer extends React.Component {\n  render() {\n    return (\n      <div className=\"container page-container\">\n        <div id=\"alert-container\"></div>\n        <h2 id=\"page-heading\">Loading...</h2>\n        <div id=\"page-row\">\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MainContainer;\n","import $ from 'jquery';\nimport { getStockQuote } from '../../utils/stockapi.js';\nimport { showAlert, runFunction, checkInputPositive } from '../../utils/functions.js';\n\nfunction init() {\n    function getStocks() {\n        let stocks = runFunction('getAllStocks');\n\n        stocks.forEach(row => {\n            $('#alert-me-select-stock').append(`<option value=\"${row.StockID}\">${row.StockName} (${row.StockID})</option>`);\n        });\n    }\n\n    function getAlerts() {\n        $('#alert-me-alert-list').html('');\n\n        let alerts = runFunction('getAllAlerts');\n        alerts.forEach(row => {\n            $('#alert-me-alert-list').append(`<tr>\n                <td>${row.sStockID}</td>\n                <td>$${row.TargetPrice}</td>\n                <td>${row.AutoRenew === 1 ? 'Yes' : 'No'}</td>\n                <td>${row.Direction === 'down' ? 'Falling' : 'Rising'}</td>\n                <td>\n                    <button class=\"btn btn-danger alert-me-delete-alert\" type=\"button\" data-delete-id=\"${row.ID}\">Delete</button>\n                </td>\n            </tr>`);\n        });\n    }\n\n    function getCurrentVal() {\n        let stockID = $('#alert-me-select-stock').val();\n\n        if (!stockID) return;\n\n        $('#alert-me-current-value').val('Loading...');\n\n        getStockQuote(stockID).then(price => {\n            $('#alert-me-current-value').val('$' + price);\n        }).catch(err => showAlert(err.message));\n    }\n\n    function setAlert() {\n        let stockID = $('#alert-me-select-stock').val();\n        let currVal = parseFloat($('#alert-me-current-value').val().replace('$', ''));\n        let newVal = parseFloat($('#alert-me-target-value').val());\n\n        if (!newVal) return showAlert('Please fill in all fields.');\n        if (newVal < 0.01) return showAlert('Target price must be at least $0.01.');\n        if (newVal === currVal) return showAlert('Target price must not be the current price.');\n\n        let ID = runFunction('getStock', [stockID]).ID;\n        let direction = newVal > currVal ? 'up' : 'down';\n        let autoRenew = Number($('#alert-me-auto-renew').is(':checked'));\n\n        runFunction('addAlert', [ID, newVal, direction, autoRenew]);\n        showAlert('Alert added.');\n\n        getAlerts();\n    }\n\n    $('#alert-me-select-stock').change(() => getCurrentVal());\n    $('#alert-me-set-alert').click(() => setAlert());\n    $('#alert-me-alert-manage').on('click', '.alert-me-delete-alert', event => {\n        runFunction('deleteAlert', [$(event.currentTarget).attr('data-delete-id')]);\n        showAlert('Alert deleted.');\n\n        getAlerts();\n    });\n\n    $('[data-toggle=\"tooltip\"]').tooltip();\n\n    checkInputPositive($('#alert-me-target-value'), true);\n\n    getStocks();\n    getAlerts();\n}\n\nexport default init;\n","import React from 'react';\nimport $ from 'jquery';\nimport './styles.css';\nimport init from './script.js';\n\nclass AlertMe extends React.Component {\n  constructor() {\n    super()\n    $('#page-heading').text('Alert Me');\n  }\n\n  componentDidMount() {\n    init();\n  }\n\n\trender() {\n\t\treturn (\n      <div className=\"row\">\n        <div className=\"col page-col\">\n          <div id=\"alert-me-alert-manage\">\n            <div className=\"table-responsive\">\n              <table className=\"table\">\n                <thead>\n                  <tr>\n                    <th>Stock</th>\n                    <th>Target Price</th>\n                    <th>Auto Renew</th>\n                    <th>Type</th>\n                    <th>Action</th>\n                  </tr>\n                </thead>\n                <tbody id=\"alert-me-alert-list\"></tbody>\n              </table>\n            </div>\n          </div>\n          <h4 className=\"page-sub-heading\">Add Alert</h4>\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <div className=\"form-group\">\n                <label>Select Stock:</label>\n                <select className=\"custom-select\" id=\"alert-me-select-stock\" defaultValue=\"\">\n                  <option value=\"\" disabled={true}>---</option>\n                </select>\n              </div>\n              <div className=\"input-group alert-margin\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Current Value</span>\n                </div>\n                <input type=\"text\" className=\"form-control\" id=\"alert-me-current-value\" placeholder=\"$0.00\" readOnly={true}/>\n              </div>\n            </div>\n            <div className=\"col-6\">\n              <div className=\"form-group\">\n                <label>Target Stock Price:</label>\n                <a className=\"badge badge-pill badge-primary badge-tooltip\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"This is the price you want to set the alert to watch for.\">?</a>\n                <input type=\"text\" className=\"form-control\" id=\"alert-me-target-value\"/>\n              </div>\n              <div className=\"custom-control custom-switch alert-margin\">\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"alert-me-auto-renew\"/>\n                <a className=\"badge badge-pill badge-primary badge-tooltip\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"This sets your alert to renew with a new target price with +2/-2 depending on the direction.\">?</a>\n                <label className=\"custom-control-label\" htmlFor=\"alert-me-auto-renew\">Auto-Renew Alert</label>\n              </div>\n              <button type=\"button\" className=\"btn btn-success page-button\" id=\"alert-me-set-alert\">Set Alert</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n\t}\n}\n\nexport default AlertMe;\n","import $ from 'jquery';\nimport Chart from 'chart.js';\nimport { searchStock, getStockHighLow, getStockPrices, getStockIndicator } from '../../utils/stockapi.js';\nimport { showAlert, runFunction } from '../../utils/functions.js';\n\nfunction init() {\n    let chart;\n\n    function showPriceChart() {\n        if (chart) chart.destroy();\n\n        chart = new Chart($('#dashboard-graph'), {\n            type: 'bar',\n            data: {\n                type: 'bar',\n                datasets: [\n                    {\n                        type: 'line',\n                        label: 'Stock Price',\n                        data: [],\n                        fill: false,\n                        borderWidth: 2,\n                        borderColor: 'rgba(196, 22, 98,1)',\n                        backgroundColor: 'rgba(196, 22, 98,1)',\n                        pointRadius: 1,\n                        yAxisID: 'price'\n                    },\n                    {\n                        type: 'bar',\n                        label: 'Volume',\n                        fill: false,\n                        data: [],\n                        backgroundColor: 'rgba(190, 135, 211, 0.8)',\n                        yAxisID: 'volume'\n                    }\n                ]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                title: {\n                    display: true,\n                    text: 'Select a stock and a duration'\n                },\n                scales: {\n                    xAxes: [\n                        {\n                            gridLines: {\n                                display: false\n                            },\n                            distribution: 'series',\n                            type: 'time',\n                            scaleLabel: {\n                                display: true,\n                                labelString: 'Time'\n                            }\n                        }\n                    ],\n                    yAxes: [\n                        {\n                            type: 'linear',\n                            position: 'left',\n                            id: 'price',\n                            gridLines: {\n                                display: false\n                            },\n                            scaleLabel: {\n                                display: true,\n                                labelString: 'Stock Price'\n                            }\n                        },\n                        {\n                            type: 'linear',\n                            position: 'right',\n                            id: 'volume',\n                            gridLines: {\n                                display: false\n                            },\n                            scaleLabel: {\n                                display: true,\n                                labelString: 'Volume'\n                            }\n                        }\n                    ]\n                }\n            }\n        });\n    }\n\n    function showIndicatorChart() {\n        if (chart) chart.destroy();\n\n        chart = new Chart($('#dashboard-graph'), {\n            type: 'line',\n            data: {\n                datasets: [\n                    {\n                        type: 'line',\n                        label: 'Stock Indicator',\n                        data: [],\n                        fill: false,\n                        borderWidth: 2,\n                        borderColor: 'rgba(196, 22, 98,1)',\n                        backgroundColor: 'rgba(196, 22, 98,1)',\n                        pointRadius: 1,\n                        yAxisID: 'price'\n                    }\n                ]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                title: {\n                    display: true,\n                    text: 'Select a stock and an indicator'\n                },\n                scales: {\n                    xAxes: [\n                        {\n                            gridLines: {\n                                display: false\n                            },\n                            distribution: 'series',\n                            type: 'time',\n                            scaleLabel: {\n                                display: true,\n                                labelString: 'Time'\n                            }\n                        }\n                    ],\n                    yAxes: [\n                        {\n                            type: 'linear',\n                            position: 'left',\n                            id: 'price',\n                            gridLines: {\n                                display: false\n                            },\n                            scaleLabel: {\n                                display: true,\n                                labelString: 'Stock Indicator'\n                            }\n                        }\n                    ]\n                }\n            }\n        });\n    }\n\n    function updatePriceChart(stock) {\n        showAlert('Loading...');\n\n        let span = $('#dashboard-select-specific').val();\n        let stockData = runFunction('getStock', [stock]);\n\n        chart.options.title.text = stockData.StockName;\n        chart.update();\n\n        getStockPrices(stock, span).then(data => {\n            let dates = data[0];\n            let prices = data[1];\n            let volumes = data[2];\n            let merged_t = [];\n            let merged_v = [];\n\n            for (let index = 0; index < dates.length; index++) {\n                merged_t.push({ x: dates[index], y: prices[index] });\n                merged_v.push({ x: dates[index], y: volumes[index] });\n            }\n\n            chart.data.datasets[0].data = merged_t;\n            chart.data.datasets[1].data = merged_v;\n            chart.update();\n        }).catch(err => showAlert(err.message));\n    }\n\n    function updateIndicatorChart(stock) {\n        showAlert('Loading...');\n\n        let indicator = $('#dashboard-select-specific').val();\n        let stockData = runFunction('getStock', [stock]);\n\n        chart.options.title.text = stockData.StockName;\n        chart.update();\n\n        getStockIndicator(stock, indicator).then(data => {\n            let dates = data[0];\n            let values = data[1];\n            let merged_t = [];\n\n            for (let index = 0; index < dates.length; index++) {\n                merged_t.push({ x: dates[index], y: values[index] });\n            }\n\n            if (indicator === 'rsi') {\n                chart.options.scales.yAxes[0].beginAtZero = true;\n                chart.options.scales.yAxes[0].max = 100;\n            }\n\n            chart.data.datasets[0].data = merged_t;\n            chart.update();\n        }).catch(err => showAlert(err.message));\n    }\n\n    function updateStocks() {\n        let stocks = runFunction('getAllStocks');\n        let t = 0;\n\n        stocks.forEach(row => {\n            setTimeout(() => {\n                getStockHighLow(row.StockID).then(data => {\n                    runFunction('updateStock', [row.ID, data['high'], data['low']])\n                }).catch();\n            }, t);\n\n            if (t < 20000) t += 500\n        });\n\n        initializeStockView();\n    }\n\n    function initializeStockView() {\n        $('#dashboard-stock-list').html('');\n\n        let stocks = runFunction('getAllStocks');\n        stocks.forEach(row => {\n            $('#dashboard-stock-list').append(`<div class=\"card\">\n                <h5 class=\"card-header\">\n                    <span class=\"dashboard-stock-id\">${row.StockID}</span>\n                    <span class=\"badge badge-pill badge-success\">High: $${row.High}</span>\n                </h5>\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-8\">\n                            <p class=\"card-text\">${row.StockName}</p>\n                        </div>\n                        <div class=\"col-4\">\n                            <button class=\"btn btn-danger dashboard-delete-stock\" type=\"button\" data-delete-id=\"${row.ID}\">Delete</button>\n                        </div>\n                    </div>\n                </div>\n            </div>`);\n        });\n    }\n\n    $('#dashboard-add-stock').click(() => {\n        showAlert('Loading...');\n\n        let val = $('.rbt-input-main').val();\n\n        if (val.includes('(') && val.includes(')')) {\n            let stIndex = val.split('(')[1];\n\n            stIndex = stIndex.split(')')[0];\n\n            searchStock(stIndex).then(data => {\n                for (let element of data) {\n                    if (element['symbol'] === stIndex) {\n                        let res = runFunction('addStock', [element['simple_name'] || element['name'], element['symbol'], 0, 0]);\n\n                        $('.rbt-input-main').val('');\n\n                        if (res === false) showAlert('Stock already exists.');\n                        else showAlert('Stock added.');\n\n                        initializeStockView();\n\n                        break;\n                    }\n                }\n            }).catch(err => showAlert(err.message));\n        } else {\n            searchStock(val).then(data => {\n                if (!data.length) {\n                    $('.rbt-input-main').val('');\n                    showAlert('No such stock is found.');\n                } else {\n                    let element = data[0];\n                    let res = runFunction('addStock', [element['simple_name'] || element['name'], element['symbol'], 0, 0]);\n\n                    $('.rbt-input-main').val('');\n\n                    if (res === false) showAlert('Stock already exists.');\n                    else showAlert('Stock added.');\n\n                    updateStocks();\n                    initializeStockView();\n                }\n            });\n        }\n    });\n\n    $('#dashboard-stock-list').on('click', '.dashboard-delete-stock', event => {\n        event.stopImmediatePropagation();\n\n        runFunction('deleteStock', [$(event.currentTarget).attr('data-delete-id')]);\n        showAlert('Stock deleted.');\n\n        initializeStockView();\n    });\n\n    let selectedStock = '';\n\n    $('#dashboard-select-type').change(() => {\n        let type = $('#dashboard-select-type').val();\n        if (type === 'price') {\n            $('#dashboard-label-specific').text('Duration:');\n            $('#dashboard-select-specific').html(`<option value=\"day\" selected>1 Day</option>\n              <option value=\"week\">1 Week</option>\n              <option value=\"month\">1 Month</option>\n              <option value=\"3month\">3 Months</option>\n              <option value=\"6month\">6 Months</option>\n              <option value=\"year\">1 Year</option>\n              <option value=\"5year\">5 Years</option>`);\n\n            showPriceChart();\n\n            if (selectedStock) updatePriceChart(selectedStock);\n        }\n        else if (type === 'indicator') {\n            $('#dashboard-label-specific').text('Indicator:');\n            $('#dashboard-select-specific').html(`<option value=\"ema\" selected>EMA (Exponential Moving Average)</option>\n              <option value=\"wma\">WMA (Weighted Moving Average)</option>\n              <option value=\"sma\">SMA (Simple Moving Average)</option>\n              <option value=\"vwap\">VWAP (Volume Weighted Average Price)</option>\n              <option value=\"rsi\">RSI (Relative Strength Index)</option>`);\n\n            showIndicatorChart();\n\n            if (selectedStock) updateIndicatorChart(selectedStock);\n        }\n    });\n\n    $('#dashboard-select-specific').change(() => {\n        if (selectedStock) {\n            let type = $('#dashboard-select-type').val();\n\n            if (type === 'price') updatePriceChart(selectedStock);\n            else if (type === 'indicator') updateIndicatorChart(selectedStock);\n        }\n    });\n\n    $('#dashboard-stock-list').on('click', '.card', event => {\n        let stockID = $('.dashboard-stock-id', event.currentTarget).html();\n        selectedStock = stockID;\n\n        let type = $('#dashboard-select-type').val();\n\n        if (type === 'price') updatePriceChart(selectedStock);\n        else if (type === 'indicator') updateIndicatorChart(selectedStock);\n    });\n\n    updateStocks();\n    initializeStockView();\n    showPriceChart();\n\n    setInterval(() => updateStocks(), 20000);\n}\n\nexport default init;\n","import React from 'react';\nimport $ from 'jquery';\nimport { AsyncTypeahead } from 'react-bootstrap-typeahead';\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\nimport './styles.css';\nimport init from './script.js';\nimport { showAlert } from '../../utils/functions.js';\nimport { searchStock } from '../../utils/stockapi.js';\n\nclass Dashboard extends React.Component {\n  constructor() {\n    super();\n    $('#page-heading').text('Dashboard');\n\n    this.state = {\n      loading: false,\n      options: []\n    }\n  }\n\n  componentDidMount() {\n    init();\n  }\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col-6 page-col\">\n          <div className=\"input-group form-group\">\n            <AsyncTypeahead\n              isLoading={this.state.loading}\n              id=\"dashboard-search-stock\"\n              placeholder=\"Search or add a stock\"\n              minLength={1}\n              delay={30}\n              useCache={false}\n              onSearch={query => {\n                this.setState({loading: true});\n                searchStock(query).then(res => {\n                  let results = []\n                  res.forEach(element => {\n                      results.push(`${element['simple_name'] || element['name']} (${element['symbol']})`)\n                  });\n                  this.setState({\n                    loading: false,\n                    options: results\n                  });\n                }).catch(err => showAlert(err.message));\n              }}\n              options={this.state.options}\n            />\n            <div className=\"input-group-append\">\n              <button className=\"btn btn-primary\" id=\"dashboard-add-stock\" type=\"button\">Add</button>\n            </div>\n          </div>\n          <div id=\"dashboard-stock-list\"></div>\n        </div>\n        <div className=\"col-6 page-col\">\n          <div className=\"form-group\">\n            <label id=\"dashboard-label-type\">Type:</label>\n            <select className=\"custom-select\" id=\"dashboard-select-type\" defaultValue=\"price\">\n              <option value=\"price\">Stock Price</option>\n              <option value=\"indicator\">Indicator</option>\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label id=\"dashboard-label-specific\">Duration:</label>\n            <select className=\"custom-select\" id=\"dashboard-select-specific\" defaultValue=\"1d\">\n              <option value=\"1d\">1 Day</option>\n              <option value=\"5d\">5 Days</option>\n              <option value=\"1mo\">1 Month</option>\n              <option value=\"3mo\">3 Months</option>\n              <option value=\"6mo\">6 Months</option>\n              <option value=\"1y\">1 Year</option>\n              <option value=\"2y\">2 Years</option>\n              <option value=\"5y\">5 Years</option>\n            </select>\n          </div>\n          <div id=\"dashboard-graph-container\">\n            <canvas id=\"dashboard-graph\"></canvas>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport $ from 'jquery';\nimport './styles.css';\nimport init from './script.js'\n\nclass Predict extends React.Component {\n  constructor() {\n    super();\n    $('#page-heading').html('Predict');\n  }\n\n  componentDidMount() {\n    init();\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col-6 page-col pb-0\">\n            <div className=\"form-group\">\n              <label>Select Stock:</label>\n              <select className=\"custom-select\" id=\"predict-select-stock\" defaultValue=\"\">\n                <option value=\"\" disabled={true}>---</option>\n              </select>\n            </div>\n            <button className=\"btn btn-success page-button\" id=\"predict-training-button\" type=\"button\">Start Training</button>\n          </div>\n          <div className=\"col-6 page-col pb-0\">\n            <div className=\"form-group\">\n              <label>Epochs:</label>\n              <a className=\"badge badge-pill badge-primary badge-tooltip\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"In machine learning, an epoch is feeding a batch of data to digest and evaluate. In short, the more epochs, the more accurate the result, but a longer time will be taken.\">?</a>\n              <input type=\"text\" className=\"form-control\" id=\"predict-epochs\" placeholder=\"15\"/>\n            </div>\n            <div className=\"form-group\">\n              <label>Learning Rate:</label>\n              <a className=\"badge badge-pill badge-primary badge-tooltip\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"This is how much the program should estimate the errors in calculation to create a more accurate representation. The learning rate is a value between 0 and 1. Try various values if you are unsure or use the default.\">?</a>\n              <input type=\"text\" className=\"form-control\" id=\"predict-learning-rate\" placeholder=\"0.005\"/>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col page-col pt-0\">\n            <div className=\"input-group alert-margin\" id=\"predict-forecast-price-container\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">Forecast Price</span>\n              </div>\n              <input className=\"form-control\" id=\"predict-forecast-price\" type=\"text\" placeholder=\"$0.00\" readOnly={true}/>\n            </div>\n            <div id=\"predict-graph-container\">\n              <canvas id=\"predict-graph\"></canvas>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Predict;\n","import $ from 'jquery';\n\nimport { openExternal, runFunction } from '../../utils/functions.js';\n\nfunction init() {\n    $('#settings-app-name').text(runFunction('getAppName'));\n    $('#settings-app-version').text(runFunction('getAppVersion'));\n\n    $('#settings-visit-website').click(() => openExternal('https://github.com/chamburr/trading-ai'));\n    $('#settings-check-updates').click(() => openExternal('https://github.com/chamburr/trading-ai/releases'));\n\n    $('[data-toggle=\"tooltip\"]').tooltip();\n\n    $('#settings-terms').val(`MIT License\n\nCopyright (c) 2021 CHamburr\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.`.replace(/(?<!\\n)\\n(?!\\n)/g, ' '));\n}\n\nexport default init;\n\n// import { checkForUpdates} from '../../utils/functions.js';\n//\n// function init() {\n//     $('#settings-check-updates').click(() => checkForUpdates());\n// }\n","import React from 'react';\nimport $ from 'jquery';\nimport './styles.css';\nimport init from './script.js';\n\nclass Settings extends React.Component {\n  constructor() {\n    super();\n    $('#page-heading').text('Settings');\n  }\n\n  componentDidMount() {\n    init();\n  }\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col-6 page-col\">\n          <h4 className=\"page-sub-heading\"><span id=\"settings-app-name\"></span> v<span id=\"settings-app-version\"></span></h4>\n          <p>Your stock trading companion, powered by AI.<br/></p>\n          <p>This app can help you with trading stocks. You can view stock prices and indicators, set alerts when the prices rise or fall, and use our prediction algorithm to get the forecast price. Trading has never been this easy!<br/></p>\n          <p>The project is fully open source on GitHub. You can view the source code and contribute to this app!<br/></p>\n          <button className=\"btn btn-primary page-button\" id=\"settings-visit-website\" type=\"button\">Visit Website</button>\n          <button className=\"btn btn-success page-button\" id=\"settings-check-updates\" type=\"button\">Check for Updates</button>\n        </div>\n        <div className=\"col-6 page-col\">\n          <h4 className=\"page-sub-heading\">License</h4>\n          <textarea className=\"form-control\" id=\"settings-terms\" spellCheck=\"false\" readOnly={true}></textarea>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Settings;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport $ from 'jquery';\n\nimport './styles.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport 'popper.js/dist/umd/popper.min.js';\n\nimport App from './App.jsx';\nimport SideBar from './Components/SideBar/index.jsx';\nimport MainContainer from './Components/MainContainer/index.jsx';\n\nimport AlertMe from './Pages/AlertMe/index.jsx';\nimport Dashboard from './Pages/Dashboard/index.jsx';\nimport Predict from './Pages/Predict/index.jsx';\nimport Settings from './Pages/Settings/index.jsx';\n\nimport { getStockQuote } from './utils/stockapi.js';\nimport { runFunction, showAlert } from './utils/functions.js';\n\nReactDOM.render(<App/>, document.getElementById('root'));\nReactDOM.render(<SideBar/>, document.getElementById('sidebar-container'));\nReactDOM.render(<MainContainer/>, document.getElementById('main-container'));\nReactDOM.render(<Dashboard/>, document.getElementById('page-row'));\n\n$('#nav-alert-me').click(() => {\n    ReactDOM.render(<AlertMe/>, document.getElementById('page-row'));\n});\n$('#nav-dashboard').click(() => {\n    ReactDOM.render(<Dashboard/>, document.getElementById('page-row'));\n});\n$('#nav-predict').click(() => {\n    ReactDOM.render(<Predict/>, document.getElementById('page-row'));\n});\n$('#nav-settings').click(() => {\n    ReactDOM.render(<Settings/>, document.getElementById('page-row'));\n});\n\nwindow.electron.ipcRenderer.setMaxListeners(0);\nwindow.electron.ipcRenderer.on('showAlert', (event, arg) => showAlert(arg));\n\nfunction initializeAlerts() {\n    let notif = {};\n    let t = 0;\n\n    setInterval(() => {\n        let alerts = runFunction('getAllAlerts');\n        alerts.forEach(row => {\n            if (notif[row.ID]) return;\n\n            setTimeout(() => {\n                notif[row.ID] = setInterval(() => {\n                    let stockData = runFunction('getStockByID', [row.StockID]);\n                    let alertData = runFunction('getAlert', [row.ID]);\n\n                    if (!stockData || !alertData) {\n                        clearInterval(notif[row.ID]);\n                        runFunction('deleteAlert', [row.ID]);\n\n                        return;\n                    }\n\n                    getStockQuote(stockData.StockID).then(currVal => {\n                        if ((row.Direction === 'up' && currVal >= row.TargetPrice) || (row.Direction === 'down' && currVal <= row.TargetPrice)) {\n                            let direction = row.Direction === 'up' ? 'rising' : 'falling';\n\n                            runFunction('sendNotification', [runFunction('getAppName'), `${stockData.StockName} (${stockData.StockID}) beat your target value of ${row.TargetPrice} while ${direction}.`]);\n\n                            if (row.AutoRenew === 0) {\n                                clearInterval(notif[row.ID]);\n                                runFunction('deleteAlert', [row.ID]);\n                            } else if (row.Direction === 'up') {\n                                runFunction('updateAlert', [row.ID, row.TargetPrice + 2]);\n                            } else {\n                                runFunction('updateAlert', [row.ID, row.TargetPrice - 2]);\n                            }\n                        }\n                    }).catch(err => showAlert(err.message));\n                }, 60000);\n            }, t);\n\n            if (t < 60000) t += 500;\n            else t = 0;\n        });\n    }, 10000);\n}\n\ninitializeAlerts();\n","class Item {\n    constructor(data, prev, next) {\n        this.next = next;\n        if (next) next.prev = this;\n\n        this.prev = prev;\n        if (prev) prev.next = this;\n\n        this.data = data;\n    }\n}\n\nclass LinkedList {\n    constructor() {\n        this._length = 0;\n    }\n\n    get head() {\n        return this._head && this._head.data;\n    }\n\n    get tail() {\n        return this._tail && this._tail.data;\n    }\n\n    get current() {\n        return this._current && this._current.data;\n    }\n\n    get length() {\n        return this._length;\n    }\n\n    push(data) {\n        this._tail = new Item(data, this._tail);\n        if (this._length === 0) {\n            this._head = this._tail;\n            this._current = this._head;\n            this._next = this._head;\n        }\n\n        this._length++;\n    }\n\n    pop() {\n        let tail = this._tail;\n\n        if (this._length === 0) {\n            return;\n        }\n\n        this._length--;\n\n        if (this._length === 0) {\n            this._head = this._tail = this._current = this._next = undefined;\n            return tail.data;\n        }\n\n        this._tail = tail.prev;\n        this._tail.next = undefined;\n\n        if (this._current === tail) {\n            this._current = this._tail;\n            this._next = undefined;\n        }\n\n        return tail.data;\n    }\n\n    shift() {\n        let head = this._head;\n\n        if (this._length === 0) {\n            return;\n        }\n\n        this._length--;\n\n        if (this._length === 0) {\n            this._head = this._tail = this._current = this._next = undefined;\n            return head.data;\n        }\n\n        this._head = this._head.next;\n\n        if (this._current === head) {\n            this._current = this._head;\n            this._next = this._current.next;\n        }\n\n        return head.data;\n    }\n\n    unshift(data) {\n        this._head = new Item(data, undefined, this._head);\n\n        if (this._length === 0) {\n            this._tail = this._head;\n            this._next = this._head;\n        }\n\n        this._length++;\n    }\n\n    unshiftCurrent() {\n        let current = this._current;\n\n        if (current === this._head || this._length < 2) {\n            return current && current.data;\n        }\n\n        if (current === this._tail) {\n            this._tail = current.prev;\n            this._tail.next = undefined;\n            this._current = this._tail;\n        }\n        else {\n            current.next.prev = current.prev;\n            current.prev.next = current.next;\n            this._current = current.prev;\n        }\n\n        this._next = this._current.next;\n\n        current.next = this._head;\n        current.prev = undefined;\n\n        this._head.prev = current;\n        this._head = current;\n\n        return current.data;\n    }\n\n    removeCurrent() {\n        let current = this._current;\n\n        if (this._length === 0) {\n            return;\n        }\n\n        this._length--;\n\n        if (this._length === 0) {\n            this._head = this._tail = this._current = this._next = undefined;\n            return current.data;\n        }\n\n        if (current === this._tail) {\n            this._tail = current.prev;\n            this._tail.next = undefined;\n            this._current = this._tail;\n        }\n        else if (current === this._head) {\n            this._head = current.next;\n            this._head.prev = undefined;\n            this._current = this._head;\n        }\n        else {\n            current.next.prev = current.prev;\n            current.prev.next = current.next;\n            this._current = current.prev;\n        }\n\n        this._next = this._current.next;\n\n        return current.data;\n    }\n\n    resetCursor() {\n        this._current = this._next = this._head;\n        return this;\n    }\n\n    next() {\n        let next = this._next;\n\n        if (next !== undefined) {\n            this._next = next.next;\n            this._current = next;\n\n            return next.data;\n        }\n    }\n}\n\nfunction nf(v) {\n    return v;\n}\n\nclass Indicator {\n    constructor(input) {\n        this.format = input.format || nf;\n    }\n\n    getResult() {\n        return this.result;\n    }\n}\n\nclass SMA extends Indicator {\n    constructor(input) {\n        super(input);\n        this.period = input.period;\n        this.price = input.values;\n\n        let genFn = (function* (period) {\n            let list = new LinkedList();\n            let sum = 0;\n            let counter = 1;\n            let current = yield;\n            let result;\n\n            list.push(0);\n\n            while (true) {\n                if (counter < period) {\n                    counter++;\n                    list.push(current);\n                    sum = sum + current;\n                }\n                else {\n                    sum = sum - list.shift() + current;\n                    result = ((sum) / period);\n                    list.push(current);\n                }\n\n                current = yield result;\n            }\n        });\n\n        this.generator = genFn(this.period);\n        this.generator.next();\n        this.result = [];\n        this.price.forEach((tick) => {\n            let result = this.generator.next(tick);\n            if (result.value !== undefined) {\n                this.result.push(this.format(result.value));\n            }\n        });\n    }\n\n    nextValue(price) {\n        let result = this.generator.next(price).value;\n        if (result != undefined) return this.format(result);\n    }\n}\n\nclass EMA extends Indicator {\n    constructor(input) {\n        super(input);\n\n        let period = input.period;\n        let priceArray = input.values;\n        let exponent = (2 / (period + 1));\n        let sma;\n\n        this.result = [];\n\n        sma = new SMA({ period: period, values: [] });\n\n        let genFn = (function* () {\n            let tick = yield;\n            let prevEma;\n\n            while (true) {\n                if (prevEma !== undefined && tick !== undefined) {\n                    prevEma = ((tick - prevEma) * exponent) + prevEma;\n                    tick = yield prevEma;\n                }\n                else {\n                    tick = yield;\n                    prevEma = sma.nextValue(tick);\n                    if (prevEma) tick = yield prevEma;\n                }\n            }\n        });\n\n        this.generator = genFn();\n        this.generator.next();\n        this.generator.next();\n\n        priceArray.forEach((tick) => {\n            let result = this.generator.next(tick);\n            if (result.value != undefined) {\n                this.result.push(this.format(result.value));\n            }\n        });\n    }\n\n    nextValue(price) {\n        let result = this.generator.next(price).value;\n        if (result != undefined) return this.format(result);\n    }\n}\n\nclass WMA extends Indicator {\n    constructor(input) {\n        super(input);\n\n        let period = input.period;\n        let priceArray = input.values;\n\n        this.result = [];\n        this.generator = (function* () {\n            let data = new LinkedList();\n            let denominator = period * (period + 1) / 2;\n\n            while (true) {\n                if ((data.length) < period) {\n                    data.push(yield);\n                }\n                else {\n                    data.resetCursor();\n\n                    let result = 0;\n\n                    for (let i = 1; i <= period; i++) {\n                        result = result + (data.next() * i / (denominator));\n                    }\n\n                    let next = yield result;\n\n                    data.shift();\n                    data.push(next);\n                }\n            }\n        })();\n\n        this.generator.next();\n\n        priceArray.forEach(tick => {\n            let result = this.generator.next(tick);\n            if (result.value != undefined) {\n                this.result.push(this.format(result.value));\n            }\n        });\n    }\n\n    nextValue(price) {\n        let result = this.generator.next(price).value;\n        if (result != undefined) return this.format(result);\n    }\n}\n\nclass VWAP extends Indicator {\n    constructor(input) {\n        super(input);\n\n        let lows = input.low;\n        let highs = input.high;\n        let closes = input.close;\n        let volumes = input.volume;\n\n        if (!((lows.length === highs.length) && (highs.length === closes.length))) {\n            throw ('Inputs(low,high, close) not of equal size');\n        }\n\n        this.result = [];\n        this.generator = (function* () {\n            let tick = yield;\n            let cumulativeTotal = 0;\n            let cumulativeVolume = 0;\n\n            while (true) {\n                let typicalPrice = (tick.high + tick.low + tick.close) / 3;\n                let total = tick.volume * typicalPrice;\n\n                cumulativeTotal = cumulativeTotal + total;\n                cumulativeVolume = cumulativeVolume + tick.volume;\n                tick = yield cumulativeTotal / cumulativeVolume;\n            }\n        })();\n\n        this.generator.next();\n\n        lows.forEach((tick, index) => {\n            let result = this.generator.next({\n                high: highs[index],\n                low: lows[index],\n                close: closes[index],\n                volume: volumes[index]\n            });\n\n            if (result.value != undefined) {\n                this.result.push(result.value);\n            }\n        });\n    }\n\n    nextValue(price) {\n        let result = this.generator.next(price).value;\n        if (result != undefined) return result;\n    }\n}\n\nclass AverageGain extends Indicator {\n    constructor(input) {\n        super(input);\n\n        let values = input.values;\n        let period = input.period;\n        let format = this.format;\n\n        this.generator = (function* (period) {\n            let currentValue = yield;\n            let counter = 1;\n            let gainSum = 0;\n            let avgGain;\n            let gain;\n            let lastValue = currentValue;\n\n            currentValue = yield;\n\n            while (true) {\n                gain = currentValue - lastValue;\n                gain = gain > 0 ? gain : 0;\n\n                if (gain > 0) {\n                    gainSum = gainSum + gain;\n                }\n\n                if (counter < period) {\n                    counter++;\n                }\n                else if (avgGain === undefined) {\n                    avgGain = gainSum / period;\n                }\n                else {\n                    avgGain = ((avgGain * (period - 1)) + gain) / period;\n                }\n\n                lastValue = currentValue;\n                avgGain = (avgGain !== undefined) ? format(avgGain) : undefined;\n                currentValue = yield avgGain;\n            }\n        })(period);\n\n        this.generator.next();\n        this.result = [];\n\n        values.forEach((tick) => {\n            let result = this.generator.next(tick);\n            if (result.value !== undefined) {\n                this.result.push(result.value);\n            }\n        });\n    }\n\n    nextValue(price) {\n        return this.generator.next(price).value;\n    }\n}\n\nclass AverageLoss extends Indicator {\n    constructor(input) {\n        super(input);\n\n        let values = input.values;\n        let period = input.period;\n        let format = this.format;\n\n        this.generator = (function* (period) {\n            let currentValue = yield;\n            let counter = 1;\n            let lossSum = 0;\n            let avgLoss;\n            let loss;\n            let lastValue = currentValue;\n\n            currentValue = yield;\n\n            while (true) {\n                loss = lastValue - currentValue;\n                loss = loss > 0 ? loss : 0;\n\n                if (loss > 0) {\n                    lossSum = lossSum + loss;\n                }\n\n                if (counter < period) {\n                    counter++;\n                }\n                else if (avgLoss === undefined) {\n                    avgLoss = lossSum / period;\n                }\n                else {\n                    avgLoss = ((avgLoss * (period - 1)) + loss) / period;\n                }\n\n                lastValue = currentValue;\n                avgLoss = (avgLoss !== undefined) ? format(avgLoss) : undefined;\n                currentValue = yield avgLoss;\n            }\n        })(period);\n\n        this.generator.next();\n        this.result = [];\n\n        values.forEach((tick) => {\n            let result = this.generator.next(tick);\n            if (result.value !== undefined) {\n                this.result.push(result.value);\n            }\n        });\n    }\n\n    nextValue(price) {\n        return this.generator.next(price).value;\n    }\n}\n\nclass RSI extends Indicator {\n    constructor(input) {\n        super(input);\n\n        let period = input.period;\n        let values = input.values;\n        let GainProvider = new AverageGain({ period: period, values: [] });\n        let LossProvider = new AverageLoss({ period: period, values: [] });\n\n        this.generator = (function* () {\n            let current = yield;\n            let lastAvgGain, lastAvgLoss, RS, currentRSI;\n\n            while (true) {\n                lastAvgGain = GainProvider.nextValue(current);\n                lastAvgLoss = LossProvider.nextValue(current);\n\n                if ((lastAvgGain !== undefined) && (lastAvgLoss !== undefined)) {\n                    if (lastAvgLoss === 0) {\n                        currentRSI = 100;\n                    }\n                    else if (lastAvgGain === 0) {\n                        currentRSI = 0;\n                    }\n                    else {\n                        RS = lastAvgGain / lastAvgLoss;\n                        RS = isNaN(RS) ? 0 : RS;\n                        currentRSI = parseFloat((100 - (100 / (1 + RS))).toFixed(2));\n                    }\n                }\n\n                current = yield currentRSI;\n            }\n        })(period);\n\n        this.generator.next();\n        this.result = [];\n\n        values.forEach((tick) => {\n            let result = this.generator.next(tick);\n            if (result.value !== undefined) {\n                this.result.push(result.value);\n            }\n        });\n    }\n\n    nextValue(price) {\n        return this.generator.next(price).value;\n    }\n}\n\nexport { SMA, EMA, WMA, VWAP, RSI };\n","import axios from 'axios';\n\nimport { SMA, EMA, WMA, VWAP, RSI } from './indicators.js';\n\nlet errorMessage = 'An unknown API error occurred.';\n\nfunction formatDate(date, noTime=false) {\n    date = new Date(date * 1000);\n    date = date.toLocaleString('zh-CN', {\n        timeZone: 'America/New_York',\n        hour12: false,\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n    });\n\n    date = date.replace(/\\//g, '-');\n\n    if (noTime) date = date.split(' ')[0];\n\n    return date;\n}\n\nasync function searchStock(stockName) {\n    return new Promise((resolve, reject) => {\n        axios.get('https://api.robinhood.com/instruments/?query=' + encodeURI(stockName)).then(res => {\n            res = res.data;\n\n            resolve(res.results);\n        }).catch(() => reject(new Error(errorMessage)));\n    });\n}\n\nasync function getStockQuote(stockID) {\n    return new Promise((resolve, reject) => {\n        axios.get('https://query2.finance.yahoo.com/v10/finance/quoteSummary/' + stockID + '?modules=price').then(res => {\n            res = res.data;\n\n            resolve(res['quoteSummary']['result'][0]['price']['regularMarketPrice']['raw']);\n        }).catch(() => reject(new Error(errorMessage)));\n    })\n}\n\nasync function getPreviousStockClose(stockID) {\n    return new Promise((resolve, reject) => {\n        axios.get('https://query2.finance.yahoo.com/v10/finance/quoteSummary/' + stockID + '?modules=price').then(res => {\n            res = res.data;\n\n            resolve(res['quoteSummary']['result'][0]['price']['regularMarketPreviousClose']['raw']);\n        }).catch(() => reject(new Error(errorMessage)));\n    });\n}\n\nasync function getStockHighLow(stockID) {\n    return new Promise((resolve, reject) => {\n        axios.get('https://query2.finance.yahoo.com/v10/finance/quoteSummary/' + stockID + '?modules=price').then(res => {\n            res = res.data;\n\n            resolve({\n                'high': res['quoteSummary']['result'][0]['price']['regularMarketDayHigh']['raw'],\n                'low': res['quoteSummary']['result'][0]['price']['regularMarketDayLow']['raw']\n            });\n        }).catch(() => reject(new Error(errorMessage)));\n    });\n}\n\nasync function getStockData(stockID) {\n    return new Promise((resolve, reject) => {\n        axios.get('https://query2.finance.yahoo.com/v8/finance/chart/' + stockID + '?interval=5m&range=1d').then(res => {\n            res = res.data;\n\n            let dates = [];\n            let prices = [];\n            let volumes = [];\n\n            for (let [index, entry] of res['chart']['result'][0]['timestamp'].entries()) {\n                dates.push(formatDate(entry));\n                prices.push(res['chart']['result'][0]['indicators']['quote'][0]['close'][index]);\n                volumes.push(res['chart']['result'][0]['indicators']['quote'][0]['volume'][index]);\n            }\n\n            resolve([dates, prices, volumes]);\n        }).catch(() => reject(new Error(errorMessage)));\n    });\n}\n\nasync function getStockPrices(stockID, range) {\n    return new Promise((resolve, reject) => {\n        let interval = '';\n\n        if (range === '1d') interval = '5m';\n        else if (range === '5d') interval = '30m';\n        else if (range === '1mo') interval = '1d';\n        else if (range === '3mo') interval = '1d';\n        else if (range === '6mo') interval = '1wk';\n        else if (range === '1y') interval = '1wk';\n        else if (range === '2y') interval = '1mo';\n        else if (range === '5y') interval = '1mo';\n\n        axios.get('https://query2.finance.yahoo.com/v8/finance/chart/' + stockID + '?interval=' + interval + '&range=' + range).then(res => {\n            res = res.data;\n\n            let dates = [];\n            let prices = [];\n            let volumes = [];\n\n            for (let [index, entry] of res['chart']['result'][0]['timestamp'].entries()) {\n                dates.push(formatDate(entry));\n                prices.push(res['chart']['result'][0]['indicators']['quote'][0]['close'][index]);\n                volumes.push(res['chart']['result'][0]['indicators']['quote'][0]['volume'][index]);\n            }\n\n            resolve([dates, prices, volumes]);\n        }).catch(() => reject(new Error(errorMessage)));\n    });\n}\n\nasync function getStockIndicator(stockID, indicator) {\n    return new Promise((resolve, reject) => {\n        axios.get('https://query2.finance.yahoo.com/v8/finance/chart/' + stockID + '?interval=1d&range=3mo').then(res => {\n            res = res.data;\n\n            let dates = [];\n            let prices = {\n                high: [],\n                low: [],\n                close: []\n            };\n            let volumes = [];\n\n            for (let [index, entry] of res['chart']['result'][0]['timestamp'].entries()) {\n                dates.push(formatDate(entry, true));\n                prices.high.push(res['chart']['result'][0]['indicators']['quote'][0]['high'][index]);\n                prices.low.push(res['chart']['result'][0]['indicators']['quote'][0]['low'][index]);\n                prices.close.push(res['chart']['result'][0]['indicators']['quote'][0]['close'][index]);\n                volumes.push(res['chart']['result'][0]['indicators']['quote'][0]['volume'][index]);\n            }\n\n            let result;\n\n            if (indicator === 'rsi') result = (new RSI({ period: 10, values: prices.close })).getResult();\n            else if (indicator === 'vwap') result = (new VWAP({ volume: volumes, ...prices })).getResult();\n            else if (indicator === 'sma') result = (new SMA({ period: 10, values: prices.close })).getResult();\n            else if (indicator === 'ema') result = (new EMA({ period: 10, values: prices.close })).getResult();\n            else if (indicator === 'wma') result = (new WMA({ period: 10, values: prices.close })).getResult();\n\n            resolve([dates, result]);\n        }).catch(() => reject(new Error(errorMessage)));\n    });\n}\n\nasync function getStockHistoricalDaily(stockID) {\n    return new Promise((resolve, reject) => {\n        axios.get('https://query2.finance.yahoo.com/v8/finance/chart/' + stockID + '?interval=1d&range=5y').then(res => {\n            res = res.data;\n\n            let dates = [];\n            let prices = [];\n\n            for (let [index, entry] of res['chart']['result'][0]['timestamp'].entries()) {\n                if (res['chart']['result'][0]['timestamp'].length - (index + 1) >= 500) continue;\n\n                dates.push(formatDate(entry, true));\n                prices.push(res['chart']['result'][0]['indicators']['quote'][0]['close'][index]);\n            }\n\n            resolve([dates, prices]);\n        }).catch(() => reject(new Error(errorMessage)));\n    });\n}\n\nasync function getDataForPrediction(stockID) {\n    return new Promise((resolve, reject) => {\n        axios.get('https://query2.finance.yahoo.com/v8/finance/chart/' + stockID + '?interval=1d&range=1mo').then(res => {\n            res = res.data;\n\n            let dates = [];\n            let prices = [];\n\n            for (let [index, entry] of res['chart']['result'][0]['timestamp'].entries()) {\n                if (res['chart']['result'][0]['timestamp'].length - (index + 1) >= 10) continue;\n\n                dates.push(formatDate(entry, true));\n                prices.push(res['chart']['result'][0]['indicators']['quote'][0]['close'][index]);\n            }\n\n            resolve([dates, prices]);\n        }).catch(() => reject(new Error(errorMessage)));\n    });\n}\n\nexport {\n    searchStock,\n    getStockQuote,\n    getPreviousStockClose,\n    getStockHighLow,\n    getStockData,\n    getStockPrices,\n    getStockIndicator,\n    getStockHistoricalDaily,\n    getDataForPrediction\n};\n"],"sourceRoot":""}